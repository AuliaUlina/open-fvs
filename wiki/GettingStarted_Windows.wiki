#summary Windows build process
#labels Draft

=Getting Started With The Build Process In Windows=

This wiki documents the process of setting things up on a Windows PC so you can build FVS executables from the source files in the open-fvs repository. For more information on the build process, including information for builds on other platforms (Mac and Linux) please refer to the [BuildProcess] wiki or the [FAQ] wiki.

==Getting The Necessary Tools==

You will need the *Rtools* toolkit package in order to build the executables. Download it from http://cran.r-project.org/bin/windows/Rtools/ . Download the latest package RTools215.exe.

Once you get the self-extracting installer downloaded and started, select from the pull down list “full installation to build 32 or 64 bit R 2.14.2+” option.  When the setup dialog appears, don’t bother to edit the environment variable; It’s already been done. Unfortunately, when the installation is complete, nothing shows up on the desktop or in your start menu typically used to run windows programs. 

To test for successful installation of RTools, Open a Command Window
{{{
Start > (All) Programs > Accessories > Command Prompt
}}}
Type in *gcc --version* at the DOS prompt
{{{
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

C:\Documents and Settings\Administrator>gcc --version

gcc (GCC) 4.6.3 20111208 (prerelease)
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
}}}
Type in *gfortran --version* at the DOS prompt

{{{
C:\Documents and Settings\Administrator>gfortran --version

GNU Fortran (GCC) 4.6.3 20111208 (prerelease)
Copyright (C) 2011 Free Software Foundation, Inc.

GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
You may redistribute copies of GNU Fortran
under the terms of the GNU General Public License.
For more information about these matters, see the file named COPYING'


C:\Documents and Settings\Administrator>
}}}

And that’s it. You’ve successfully installed Rtools and can now build open-fvs programs. 
Now that you have verified you have successfully installed RTools, the next step is to check out the source code from the Subversion repository located on google.code servers. 



==Getting The Source Files==

The open-fvs files are stored in a Subversion (SVN) repository. If you don't have an *SVN client* software package you will probably want to install one. There are several free SVN packages available for download. Two examples are Tortoise ([http://tortoisesvn.net/]) and SmartSVN ([http://www.syntevo.com/smartsvn/])

You will use the "checkout" feature of your SVN client software package to download the FVS source files. Refer to the software documentation if you need help with this. Designate the repository using the URL http://open-fvs.googlecode.com/svn/. Select or create an appropriate directory on your hard drive to download the source files into. For example, you could create a directory on your C drive called `MyFvsFiles`.

==Building The Executable==

Open a Command Window
{{{
Start > (All) Programs > Accessories > Command Prompt
}}}
Use the `cd` command to navigate to the `trunk\bin` directory inside the directory into which you checked out the open-fvs files. If you had placed the files into a directory called `MyFvsFiles` you would type the command as shown below.
{{{
cd \MyFvsFiles\trunk\bin
}}}
Once you have navigated to the correct directory you are ready to make an executable. The FVS variant executables are named `FVSxxx.exe`, where the `xxx` is the 2-letter abbreviation for the variant (e.g., `ie` for Inland Empire or `ls` for Lake States) optionally followed by the 1-letter abbreviation for an extension (e.g., `x` for the insect and disease extensions, or `c` for the climate extension). To make an executable on a Windows PC type the command `make FVSxxx.exe` with `xxx` replaced by the variant and extension designations. For example, to build the Inland Empire variant with the Climate extension you would use the command below.
{{{
make FVSiec.exe
}}}
To build the Lake States variant with none of the optional extensions you would use the command below.
{{{
make FVSls.exe
}}}
To build all of the varaints just type 'make' and do not specify a varaint. This could take up to 20 minutes.
{{{
make
}}}

The variant executable file is created in the `trunk\bin` directory in which you are currently working.  

A sourcelist file needs to exist in the `trunk\bin` directory in order to build the variants in this way. For example, the file `FVSls_sourceList.txt` allows you to use the `make` command to build the variant executable `FVSls.exe`. Look in the `trunk\bin` directory to see which variants are currently available.